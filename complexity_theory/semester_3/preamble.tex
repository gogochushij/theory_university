\usepackage[english, russian]{babel}
\usepackage{xltxtra}
\usepackage{polyglossia}

\usepackage{mathpazo}

\defaultfontfeatures{Ligatures=TeX,Mapping=tex-text}

\setmainfont{STIX2Text-Regular.otf}[
ExternalLocation={/home/vyacheslav/builds/STIXv2.0.2/OTF/},
BoldFont=STIX2Text-Bold.otf,
ItalicFont=STIX2Text-Italic.otf,
BoldItalicFont=STIX2Text-BoldItalic.otf
]
\setmathrm{STIX2Math.otf}[
ExternalLocation={/home/vyacheslav/builds/STIXv2.0.2/OTF/}
]


\usepackage{makeidx}
\usepackage{amssymb, amsthm}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{needspace}
\usepackage{enumitem}
\usepackage{cancel}
\usepackage{fdsymbol}
\usepackage{fontawesome}


% разметка страницы и колонтитул
\usepackage[left=2cm,right=2cm,top=1cm,bottom=1.1cm,bindingoffset=0cm]{geometry}
\usepackage{fancybox,fancyhdr}
\fancyhf{}
\fancyhead[R]{\thepage}
\fancyhead[L]{\rightmark}
\fancyfoot{}
\fancyhfoffset{0pt}
\addtolength{\headheight}{13pt}
\pagestyle{fancy}

% Отступы
\setlength{\parindent}{3ex}
\setlength{\parskip}{3pt}

\usepackage{graphicx}
\usepackage{hyperref}

\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}

\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}


\usepackage{xifthen}
\makeatother
\def\@lecture{}%
\newcommand{\lecture}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Лекция #1}%
    }{%
        \def\@lecture{Лекция #1: #3}%
    }%
    \subsection*{\@lecture}
    \marginpar{\small\textsf{\mbox{#2}}}
}
\makeatletter


\usepackage{xcolor}
\definecolor{Aquamarine}{cmyk}{50, 0, 17, 100}
\definecolor{ForestGreen}{cmyk}{76, 0, 76, 45}
\definecolor{Pink}{cmyk}{0, 100, 0, 0}
\definecolor{Cyan}{cmyk}{56, 0, 0, 100}
\definecolor{Gray}{gray}{0.3}


\usepackage{mdframed}
\mdfsetup{skipabove=3pt,skipbelow=3pt}
\mdfdefinestyle{defstyle}{%
    linecolor=red,
	linewidth=3pt,rightline=false,topline=false,bottomline=false,%
    frametitlerule=false,%
    frametitlebackgroundcolor=red!0,%
    innertopmargin=4pt,innerbottommargin=4pt,innerleftmargin=7pt
    frametitlebelowskip=1pt,
    frametitleaboveskip=3pt,
}
\mdfdefinestyle{thmstyle}{%
    linecolor=cyan!100,
	linewidth=2pt,topline=false,bottomline=false,%
    frametitlerule=false,%
    frametitlebackgroundcolor=cyan!20,%
    innertopmargin=4pt,innerbottommargin=4pt,
    frametitlebelowskip=1pt,
    frametitleaboveskip=3pt,
}
\theoremstyle{definition}
\mdtheorem[style=defstyle]{defn}{Определение}

\newmdtheoremenv[nobreak=true,backgroundcolor=Aquamarine!10,linewidth=0pt,innertopmargin=0pt,innerbottommargin=7pt]{cor}{Следствие}
\newmdtheoremenv[nobreak=true,backgroundcolor=CarnationPink!20,linewidth=0pt,innertopmargin=0pt,innerbottommargin=7pt]{desc}{Описание}
\newmdtheoremenv[nobreak=true,backgroundcolor=Gray!10,linewidth=0pt,innertopmargin=0pt,innerbottommargin=7pt,font={\small}]{ex}{Пример}
\newmdtheoremenv[nobreak=false,backgroundcolor=Cyan!10,linewidth=0pt,innertopmargin=0pt,innerbottommargin=7pt]{thm}{Теорема}
\newmdtheoremenv[nobreak=true,backgroundcolor=Pink!10,linewidth=0pt,innertopmargin=0pt,innerbottommargin=7pt]{lm}{Лемма}

\newtheorem*{st}{Утверждение}
\newtheorem*{prop}{Свойства}

\theoremstyle{plain}
\newtheorem*{name}{Обозначение}

\theoremstyle{remark}
\newtheorem*{rem}{Ремарка}
\newtheorem*{com}{Комментарий}
\newtheorem*{note}{Замечание}
\newtheorem*{prac}{Упражнение}
\newtheorem*{probl}{Задача}


\renewcommand{\proofname}{Доказательство}
\renewenvironment{proof}
{ \hspace{\stretch{1}}\\ \faSquareO\quad \small  }
{ \hspace{\stretch{1}}  \faSquare \normalsize }


\numberwithin{ex}{section}
\numberwithin{thm}{section}
\numberwithin{equation}{section}



\newcommand{\K}{\mathcal{K}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Cm}{\mathbb{C}}
\newcommand{\Pm}{\mathbb{P}}
\newcommand{\ord}{\operatorname{ord}}
\newcommand{\lcm}{\operatorname{lcm}}
\newcommand{\sign}{\operatorname{sign}}
\newcommand{\E}{\mathbb{E}}

\renewcommand{\o}{o}
\renewcommand{\O}{\mathcal{O}}
\renewcommand{\le}{\leqslant}
\renewcommand{\ge}{\geqslant}

\def\mybf#1{\textbf{#1}}
\def\selectedFont#1{\textbf{#1}}
\def\ComplexityFont#1{\textmd{\textbf{\textsf{#1}}}}
\def\LanguageFont#1{{\textbf{\texttt{#1}}}}


\newcommand{\Cclass}{\mathcal{C}}
\newcommand{\Dclass}{\mathcal{D}}


\renewcommand{\P}{\ComplexityFont{P}}
\newcommand{\DTIME}{\ComplexityFont{DTime}}
\newcommand{\DTime}{\ComplexityFont{DTime}}
\newcommand{\DSpace}{\ComplexityFont{DSpace}}
\newcommand{\PSPACE}{\ComplexityFont{PSPACE}}
\newcommand{\NTIME}{\ComplexityFont{NTime}}
\newcommand{\NSpace}{\ComplexityFont{NSpace}}
\newcommand{\coNSpace}{\ComplexityFont{coNSpace}}
\newcommand{\NPSPACE}{\ComplexityFont{NPSPACE}}
\newcommand{\poly}{\ComplexityFont{poly}}
\newcommand{\RP}{\ComplexityFont{RP}}
\newcommand{\coRP}{\ComplexityFont{co-RP}}
\newcommand{\ZPP}{\ComplexityFont{ZPP}}
\newcommand{\BPP}{\ComplexityFont{BPP}}
\newcommand{\BQP}{\ComplexityFont{BQP}}
\newcommand{\coBPP}{\ComplexityFont{co-BPP}}
\newcommand{\NP}{\ComplexityFont{NP}}
\newcommand{\NL}{\ComplexityFont{NL}}
\newcommand{\coNL}{\ComplexityFont{co-NL}}
\renewcommand{\L}{\ComplexityFont{L}}
\newcommand{\NPcomp}{\ComplexityFont{NP-complete}}
\newcommand{\tP}{\widetilde{\P}}
\newcommand{\tNP}{\widetilde{\NP}}
\newcommand{\tBH}{\widetilde{\BH}}
\newcommand{\Class}{{\ComplexityFont{C}}}
\newcommand{\coC}{\ComplexityFont{co-}\mathcal{C}}
\newcommand{\coNP}{\ComplexityFont{co-NP}}
\newcommand{\PH}{\ComplexityFont{PH}}
\newcommand{\EXP}{\ComplexityFont{EXP}}
\newcommand{\Size}{\ComplexityFont{Size}}
\newcommand{\Ppoly}{\ComplexityFont{P}/\ComplexityFont{poly}}
\newcommand{\NC}{\ComplexityFont{NC}}


\newcommand{\FACTOR}{\LanguageFont{FACTOR}}
\newcommand{\kQBF}{{\LanguageFont{QBF{\tiny k}}}}
\newcommand{\QBFk}{{\LanguageFont{QBF{\tiny k}}}}
\newcommand{\QBF}{{\LanguageFont{QBF}}}
\newcommand{\STCON}{\LanguageFont{STCON}}
\newcommand{\USTCON}{\LanguageFont{USTCON}}
\newcommand{\CircuitSat}{{\LanguageFont{CIRCUIT\_SAT}}}
\newcommand{\tCircuitSat}{\widetilde{{\LanguageFont{CIRCUIT\_SAT}}}}
\newcommand{\SAT}{\LanguageFont{SAT}}
\newcommand{\tSAT}{\widetilde{{\LanguageFont{SAT}}}}
\newcommand{\UNSAT}{{\LanguageFont{UNSAT}}}
\newcommand{\tThreeSAT}{\widetilde{{\LanguageFont{3\text{-}SAT}}}}
\newcommand{\ThreeSAT}{{\LanguageFont{3\text{-}SAT}}}
\newcommand{\BH}{\LanguageFont{BH}}
\newcommand{\CircuitEval}{{\LanguageFont{CIRCUIT\_EVAL}}}


\newcommand{\const}{\textmd{const}}
\newcommand{\logspace}{\textmd{logspace}}
\newcommand{\PATH}{\textmd{PATH}}


\newcommand{\readonly}{\textsf{read-only}}
\newcommand{\writeonly}{\textsf{write-only}}


\usepackage{ upgreek }
\newcommand{\PI}{\Uppi}
\newcommand{\SIGMA}{\Upsigma}
\newcommand{\DELTA}{\Updelta}
